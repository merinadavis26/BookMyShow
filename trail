import { Component, Input, OnInit } from '@angular/core';
import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';

@Component({
  selector: 'app-booking-details-modal',
  templateUrl: './booking-details-modal.component.html',
  styleUrls: ['./booking-details-modal.component.css']
})
export class BookingDetailsModalComponent implements OnInit {
  @Input() movie: any;
  @Input() city: string;
  @Input() theatre: any;
  @Input() show: any;
  @Input() seats: number;

  totalPrice: number;

  constructor(public activeModal: NgbActiveModal) {}

  ngOnInit(): void {
    this.calculateTotalPrice();
  }

  calculateTotalPrice(): void {
    const pricePerSeat = 10; // Example price per seat
    this.totalPrice = this.seats * pricePerSeat;
  }

  confirm(): void {
    this.activeModal.close({ confirmed: true });
  }
}

<div class="modal-header">
  <h5 class="modal-title">Booking Details</h5>
  <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss()"></button>
</div>
<div class="modal-body">
  <p><strong>Movie:</strong> {{ movie.name }}</p>
  <p><strong>City:</strong> {{ city }}</p>
  <p><strong>Theatre:</strong> {{ theatre.name }}</p>
  <p><strong>Show Time:</strong> {{ show.time }}</p>
  <p><strong>Seats:</strong> {{ seats }}</p>
  <p><strong>Total Price:</strong> ${{ totalPrice }}</p>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Cancel</button>
  <button type="button" class="btn btn-primary" (click)="confirm()">Confirm</button>
</div>
